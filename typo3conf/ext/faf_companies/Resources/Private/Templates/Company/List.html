<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">
<f:layout name="Default" />
    <f:section name="content">
        <section class="member-section">
            <div class="container">            
                <f:if condition="{settings.overline} || {settings.headline}">
                    <div class="row">
                        <div class="col-12">
                            <div class="member-title-block">
                                <f:if condition="{settings.overline}">
                                    <span class="sub-tag">{settings.overline}</span>
                                </f:if>
                                <f:if condition="{settings.headline}">
                                    <h2>{settings.headline}</h2>
                                </f:if>
                            </div>
                            <f:if condition="{settings.infoText}">
                                <div class="d-md-none">
                                    <div class="member-section__responsive-info">{settings.infoText}</div>
                                </div>
                            </f:if>
                        </div>
                    </div>
                </f:if>            
           
                <f:if condition="{companies}">
                    <div class="row member-section--row">
                        <f:for each="{companies}" as="company" iteration="i">
                            <div class="col-lg-4 col-sm-6 member-teaser-col">
                                <f:link.action pageUid="{settings.detailPid}" action="show" class="member-teaser" arguments="{company: company}">
                                    <f:if condition="{company.companylogo}">
                                        <f:image class="member-image member-image-default" image="{company.companylogo}" height="82c"
                                            width="138c" treatIdAsReference="1" />
                                    </f:if>
                                    <f:if condition="{company.hoverlogo}">
                                        <f:image class="member-image member-image-hover" image="{company.hoverlogo}" height="82c"
                                            width="138c" treatIdAsReference="1" />
                                    </f:if>
                                    <f:if condition="{company.linktext}">
                                        <div class="member-teaser-link">
                                            <p class="icon-link"></p>
                                        </div>
                                    </f:if>
                                </f:link.action>
                               
                            </div>
                        </f:for>
                    </div>
                </f:if>
            </div>    
            <f:if condition="{companies}">
                <f:for each="{companies}" as="company" iteration="i">
                    <div class="modal member-modal member-modal-{i.cycle}" id="member-modal-{i.cycle}" tabindex="-1" role="dialog" aria-labelledby="memberDetailModal"
                    aria-hidden="true">
                        <button type="button" class="close btn-close" data-dismiss="modal" aria-hidden="true">
                            <span class="bars"></span>
                            <span class="bars"></span>
                            <span class="bars"></span>
                        </button>
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <section class="member-slider">
                                    <div class="container">
                                        <div class="member-slider-block">
                                            <div class="member-slider-init owl-carousel">
                                                <f:if condition="{company.modelbannerimages} || {company.modelbannertitle}">
                                                    <f:for each="{company.modelbannerimages}" as="bannerimages" iteration="i">
                                                        <div class="member-slide">
                                                            <div class="member-slide-image">
                                                                <f:if condition="{company.modelbannerimages}">
                                                                    <picture>
                                                                        <source srcset="{f:uri.image(image: bannerimages, maxWidth: '1920', treatIdAsReference:1, cropVariant: 'default')}" media="(min-width: 1200px)">
                                                                        <source srcset="{f:uri.image(image: bannerimages, maxWidth: '1200', treatIdAsReference:1, cropVariant: 'specialTablet')}" media="(min-width: 768px)">
                                                                        <img class="image-embed-item" src="{f:uri.image(image: bannerimages, treatIdAsReference:1, cropVariant: 'specialMobile')}" alt="Image">
                                                                    </picture>  
                                                                </f:if>
                                                                <f:if condition="{company.modelbannertitle}">
                                                                    <div class="member-slider-title">
                                                                        <f:format.raw>
                                                                            <h2>
                                                                                {company.modelbannertitle}
                                                                            </h2>
                                                                        </f:format.raw>
                                                                    </div>
                                                                </f:if>
                                                            </div>
                                                        </div>
                                                    </f:for>
                                                </f:if>
                                            </div>
                                            <div class="slider-counter"></div>
                                        </div>
                                        <f:if condition="{company.companylogo} ||{company.modelcontent} ">
                                            <div class="member-slide-content content-section">
                                                <f:if condition="{company.companylogo}">                                            
                                                    <div class="member-slide-logo">
                                                        <img src="{f:uri.image(image: company.companylogo, treatIdAsReference:1)}" alt="Member Logo">
                                                    </div>
                                                </f:if>
                                                <f:if condition="{company.modelcontent}">
                                                    <div class="member-slide-content--inner">
                                                        <f:format.html>{company.modelcontent}</f:format.html>
                                                    </div>
                                                </f:if>
                                            </div>
                                        </f:if>
                                    </div>
                                </section>
                            </div>
                        </div>
                    </div>
                </f:for>
            </f:if>
        </section>    
    </f:section>
</html>
